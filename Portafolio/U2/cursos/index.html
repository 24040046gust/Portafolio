<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gestión de Cursos</title>

<link rel="icon" href="../../images/logoo.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

<style>

/* ===== CONTENEDOR ===== */

body{
margin:0;
font-family:'Inter',sans-serif;
background:linear-gradient(135deg,#3f6f6b,#7ea8a4);
color:white;
}

/* ===== TARJETAS ===== */

.cursos-card{
background:rgba(255,255,255,.08);
backdrop-filter:blur(40px);
border:1px solid rgba(255,255,255,.15);
border-radius:35px;
padding:40px;
box-shadow:0 30px 60px rgba(0,0,0,.1);
margin:40px auto;
max-width:1100px;
}

/* ===== FORM ===== */

.form-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}

.input-group{
display:flex;
flex-direction:column;
gap:8px;
}

input,select{
background:rgba(255,255,255,.12);
border:1px solid rgba(255,255,255,.25);
padding:14px;
border-radius:12px;
color:white;
font-size:14px;
outline:none;
}

select option{
color:black;
}

/* ===== BOTON PRINCIPAL ===== */

.btn-main{
margin-top:25px;
width:100%;
padding:16px;
border-radius:50px;
border:none;
font-weight:700;
cursor:pointer;
background:white;
color:#2c4d4b;
transition:.3s;
}

.btn-main:hover{
transform:scale(1.02);
}

/* ===== TABLA ===== */

table{
width:100%;
border-collapse:collapse;
}

th{
padding:15px;
border-bottom:1px solid rgba(255,255,255,.2);
opacity:.7;
text-align:left;
}

td{
padding:12px;
border-bottom:1px solid rgba(255,255,255,.1);
}

/* ===== BOTONES ACCIONES ===== */

.btn-guardar{
background:#4fc3f7;
border:none;
color:white;
padding:7px 14px;
border-radius:8px;
cursor:pointer;
margin-right:5px;
font-weight:600;
}

.btn-eliminar{
background:#ef5350;
border:none;
color:white;
padding:7px 14px;
border-radius:8px;
cursor:pointer;
font-weight:600;
}

.btn-guardar:hover{background:#29b6f6;}
.btn-eliminar:hover{background:#e53935;}

</style>
</head>

<body>

<section class="cursos-card">

<form id="formCurso">
<div class="form-grid">

<div class="input-group">
<label>Nombre del Curso</label>
<input id="nombreCurso">
</div>

<div class="input-group">
<label>Instructor</label>
<input id="nombreInstructor">
</div>

<div class="input-group">
<label>Horas</label>
<input id="horas" type="number">
</div>

<div class="input-group">
<label>Nivel</label>
<select id="nivel">
<option value="">Seleccione...</option>
<option>Básico</option>
<option>Intermedio</option>
<option>Avanzado</option>
</select>
</div>

<div class="input-group">
<label>Fecha de inicio</label>
<input id="fechaInicio" type="date">
</div>

<div class="input-group">
<label>Costo</label>
<input id="costo" type="number">
</div>

</div>

<button class="btn-main">Registrar Curso</button>
</form>

</section>

<section class="cursos-card">
<table>
<thead>
<tr>
<th>Curso</th>
<th>Instructor</th>
<th>Horas</th>
<th>Nivel</th>
<th>Fecha</th>
<th>Costo</th>
<th>Acciones</th>
</tr>
</thead>
<tbody id="tablaCursos"></tbody>
</table>
</section>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>

/* ===== CONFIG TOASTR ===== */
toastr.options={
positionClass:"toast-top-right",
timeOut:2000
}

/* ===== REGISTRAR ===== */

formCurso.addEventListener("submit",e=>{
e.preventDefault()

const nombre=nombreCurso.value.trim()
const instructor=nombreInstructor.value.trim()
const horas=horasInput()
const nivel=nivelInput()
const fecha=fechaInicio.value
const costo=costoInput()

if(!nombre || !instructor || !horas || !nivel || !fecha || !costo){
toastr.warning("Completa todos los campos")
return
}

agregarFila(nombre,instructor,horas,nivel,fecha,costo)
formCurso.reset()
toastr.success("Curso registrado")
})

function horasInput(){return document.getElementById("horas").value}
function nivelInput(){return document.getElementById("nivel").value}
function costoInput(){return document.getElementById("costo").value}

/* ===== CREAR FILA ===== */

function agregarFila(n,i,h,niv,f,c){

const tr=document.createElement("tr")

tr.innerHTML=`
<td>${n}</td>
<td>${i}</td>
<td>${h}</td>
<td>${niv}</td>
<td>${f}</td>
<td>${c}</td>
<td>
<button class="btn-guardar">Guardar</button>
<button class="btn-eliminar">Borrar</button>
</td>
`

tablaCursos.appendChild(tr)

/* ===== ELIMINAR ===== */

tr.querySelector(".btn-eliminar").onclick=()=>{
Swal.fire({
title:"¿Eliminar curso?",
text:"Esta acción no se puede deshacer",
icon:"warning",
showCancelButton:true,
confirmButtonText:"Eliminar"
}).then(res=>{
if(res.isConfirmed){
tr.remove()
toastr.info("Curso eliminado")
}
})
}

/* ===== ACTUALIZAR ===== */

tr.querySelector(".btn-guardar").onclick=()=>{
Swal.fire({
title:"¿Guardar cambios?",
icon:"question",
showCancelButton:true,
confirmButtonText:"Guardar"
}).then(res=>{
if(res.isConfirmed){
toastr.success("Cambios guardados")
}
})
}

}

</script>

</body>
</html>
